In DevOps, Ansible in Realtime Senario Interview Questions and Answers:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. What is Ansible and how does it work?

2. What are the key features of Ansible?

3. Difference Between Ansible, Shell, and Python?

4. How do you define and manage inventory in Ansible?

5. Difference Between Ansible Ad-Hoc Commands and Playbooks?

6. Can you explain any playbook that you wrote and found to be effective?

7. Can you explain a struched andible playbook using roles?

8. What is an Ansible Module?

9. How do you use Handlers in Ansible? How do you implement when conditions in a playbook?

10. How do you manage sensitive data securely in Ansible using Vault?
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. What is Ansible and how does it work?

EXPLAIN IN THIS ANSWER:-
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘‰ Ansible is an agentless automation tool used for configuration management, application deployment, and orchestration.
ğŸ‘‰ It uses YAML-based playbooks and connects to remote servers over SSH to run tasks using built-in modules.
ğŸ‘‰ It's simple, scalable, and idempotent, which means it doesn't repeat actions if they're already done.
-----------------------------------------------------------------------------------------------------------------------------------------

2. What are the key features of Ansible?

EXPLAIN IN THIS ANSWER:-
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Œ Agentless  ----------â€“> No need to install agents on managed nodes.
ğŸ“Œ Simple YAML Syntax â€“--> Uses human-readable YAML for playbooks.
ğŸ“Œ Idempotency â€“---------> Ensures changes apply only when needed.
ğŸ“Œ Scalability â€“---------> Manages thousands of servers efficiently.
ğŸ“Œ Pre-built Modules â€“---> Extensive library for automation tasks.
ğŸ“Œ Orchestration  â€“------> Automates multi-tier app deployments.
ğŸ“Œ Secure & Reliable â€“---> Uses SSH and Ansible Vault for security.
ğŸ“Œ Push Model Execution â€“> Executes tasks from the control node directly.
-----------------------------------------------------------------------------------------------------------------------------------------

3. Difference Between Ansible, Shell, and Python?

EXPLAIN IN THIS ANSWER:-
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Œ Shell (Bash/PowerShell):
âœ… Good for one-time execution for shell script but lacks of scalability for complex automation.
ğŸ”¹ Example: Shell is won't work with different OS.(linux,ubuntu,windows).

ğŸ“Œ Python:
âœ… More flexible than Shell, supports both Linux and Windows.
ğŸ”¹ Example: Writing a script to manage multiple services dynamically.

ğŸ“Œ Ansible:
âœ… Best for managing multiple VMs with different OS types.
âœ… Uses inventory files to define different hosts and apply the right module automatically.
ğŸ”¹ Example: Write a Playbook, configure, and start Nginx on multiple servers.

ğŸ“ŒğŸ“ŒğŸ“Œ Final Recommendation:
âœ… If it's a one-time task, use Shell scripts.
âœ… If you want custom logic & flexibility, use Python.
âœ… If you need scalability, reusability, and automation, Ansible is the best choice.
-----------------------------------------------------------------------------------------------------------------------------------------

4. How do you define and manage inventory in Ansible?

EXPLAIN IN THIS ANSWER:-
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘‰ Inventory defines the list of servers where automation tasks run. 
1. Static Inventory (Default: /etc/ansible/hosts):-
2. Dynamic Inventory (For Cloud Environments: AWS, Azure, GCP, etc.):-

ğŸ‘‰ I've used both static and dynamic inventories depending on the environment. 
   A simple file with manually defined hosts and groups like [webservers], [dbservers].
ğŸ”¹ Example (inventory.ini): "ini-Extention"
--------------------------------------------------------
[web]
web1 ansible_host=192.168.1.10 ansible_user=ubuntu
web2 ansible_host=192.168.1.11 ansible_user=ubuntu

[db]
db1 ansible_host=192.168.1.20 ansible_user=root
--------------------------------------------------------
ğŸ‘‰ In cloud environments like AWS, I used dynamic inventory with the aws_ec2 plugin, 
    where hosts were grouped automatically based on tags (e.g., Environment=dev or App=dms). 
    This way, the inventory was always up to date without manual intervention.
-----------------------------------------------------------------------------------------------------------------------------------------

5. Difference Between Ansible Ad-Hoc Commands and Playbooks?

EXPLAIN IN THIS ANSWER:-
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Ad-Hoc Commands are One-time commands and used for simple tasks on managed nodes.
   They are primarily used for tasks like checking connectivity, managing services, and installing packages.

ğŸ‘‰ Use Case: Restarting a service, checking uptime, or running a quick shell command.

2. Ansible Playbooks are YAML-based automation scripts that define a set of tasks to be executed on one or more hosts.
   It allows you to describe the desired state of your systems in a structured, readable format 
   like installing packages, managing files, configuring services, or deploying applications.

ğŸ‘‰ Use Case: Automating infrastructure setup, application deployments, and configuration management.
-----------------------------------------------------------------------------------------------------------------------------------------

6. Can you explain any playbook that you wrote and found to be effective?

EXPLAIN IN THIS ANSWER:-
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘‰ This playbook is used to install and configure Apache web server on a group of servers called webservers.

ğŸ‘‰ It uses the apt module to install the Apache package.

ğŸ‘‰ Then, it uses the service module to make sure Apache is started and enabled at boot.

ğŸ‘‰ Finally, it copies a custom index.html file to the web root using the copy module.

ğŸ‘‰ Iâ€™ve defined apache_package as a variable so it's easier to override if we want to use a different package on another OS 
    (like httpd on CentOS).

ğŸ‘‰ Also, the playbook uses become: yes to run the tasks as root, which is needed for package installation and service management.

ğŸ§¾ Use Case Playbook: Install Apache on a group of web servers:
---
- name: Install and start Apache web server
  hosts: webservers
  become: yes

  vars:
    apache_package: apache2

  tasks:
    - name: Install Apache
      apt:
        name: "{{ apache_package }}"
        state: present
        update_cache: yes

    - name: Start and enable Apache service
      service:
        name: "{{ apache_package }}"
        state: started
        enabled: yes

    - name: Deploy custom index.html
      copy:
        src: files/index.html
        dest: /var/www/html/index.html
-----------------------------------------------------------------------------------------------------------------------------------------

7. Can you explain a struched andible playbook using roles?

EXPLAIN IN THIS ANSWER:-
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘‰ An Ansible Role is a way to organize automation tasks logically and modularly.
ğŸ‘‰ Roles structure playbooks into reusable components, making automation scalability, maintainable, reusable across different projects.
ğŸ“ Ansible Project Structure with Roles:
my-ansible-project/
â”œâ”€â”€ inventory/
â”‚   â””â”€â”€ hosts               # Inventory file (static or dynamic)
â”œâ”€â”€ group_vars/
â”‚   â””â”€â”€ all.yml             # Global variables for all hosts
â”œâ”€â”€ roles/
â”‚   â””â”€â”€ apache/             # A role named "apache"
â”‚       â”œâ”€â”€ tasks/
â”‚       â”‚   â””â”€â”€ main.yml    # Tasks to install and configure Apache
â”‚       â”œâ”€â”€ handlers/
â”‚       â”‚   â””â”€â”€ main.yml    # Restart Apache if config changes
â”‚       â”œâ”€â”€ templates/
â”‚       â”‚   â””â”€â”€ httpd.conf.j2  # Jinja2 template for Apache config
â”‚       â”œâ”€â”€ files/
â”‚       â”‚   â””â”€â”€ index.html  # Static file to copy to server
â”‚       â”œâ”€â”€ vars/
â”‚       â”‚   â””â”€â”€ main.yml    # Role-specific variables
â”‚       â””â”€â”€ defaults/
â”‚           â””â”€â”€ main.yml    # Default variables (can be overridden)
â”œâ”€â”€ site.yml                # Main playbook

ğŸ“ site.yml â€“ Main Playbook File:
---
- name: Configure web servers
  hosts: webservers
  become: yes

  roles:
    - apache

ğŸ‘‰ This is a well-structured Ansible project using roles for modularity. 
ğŸ‘‰ Each role (like apache) contains everything it needs to manage that component â€“ tasks, handlers, templates, files, and variables.

ğŸ‘‰ The site.yml playbook is the entry point and simply includes the required roles. 
    This makes the project more maintainable, reusable, and readable.

ğŸ‘‰ For example, in one of my projects, I had separate roles for Prometheus, Grafana, Docker, and Node Exporter. 
    Each team could work independently on their own role, which improved collaboration and made CI/CD integration much easier."
-----------------------------------------------------------------------------------------------------------------------------------------

8. What is an Ansible Module?

EXPLAIN IN THIS ANSWER:-
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”¹ Types of Ansible Modules (With Examples)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Œ 1. System Modules:
â¤ user, service, cron, hostname
âœ… Example: Create a user
---
- name: Create a new user
  user:
    name: devops_user
    state: present
    groups: sudo
------------------------------------------
ğŸ“Œ 2. Package Modules:
â¤ apt, yum, dnf, pip
âœ… Example: Install Nginx
---
- name: Install Nginx on Ubuntu
  apt:
    name: nginx
    state: present
-----------------------------------------
ğŸ“Œ 3. File Modules:
â¤ file, copy, template, fetch
âœ… Example: Copy a configuration file
---
- name: Copy a file
  copy:
    src: /home/user/config.conf
    dest: /etc/config.conf
    mode: '0644'
----------------------------------------
ğŸ“Œ 4. Cloud Modules:
â¤ ec2_instance, gcp_compute_instance, azure_rm_virtualmachine
âœ… Example: Launch an EC2 instance
---
- name: Launch EC2 instance
  amazon.aws.ec2_instance:
    name: my-instance
    state: running
    instance_type: t2.micro
    image_id: ami-12345678
---------------------------------------
ğŸ“Œ 5. Networking Modules:
â¤ ios_config, firewalld, iptables
âœ… Example: Enable HTTP in Firewalld
---
- name: Allow HTTP traffic
  firewalld:
    service: http
    state: enabled
    permanent: yes
    immediate: yes
-------------------------------------
ğŸ“Œ 6. Kubernetes Modules:
â¤ k8s, helm
âœ… Example: Deploy an Nginx Pod
---
- name: Deploy Nginx Pod in Kubernetes
  k8s:
    state: present
    definition:
      apiVersion: v1
      kind: Pod
      metadata:
        name: nginx-pod
      spec:
        containers:
          - name: nginx
            image: nginx:latest
-----------------------------------------
ğŸ“Œ 7. CI/CD & DevOps Modules:
â¤ git, docker_container, jenkins_job
âœ… Example: Run an Nginx container
---
- name: Run Nginx container
  docker_container:
    name: nginx
    image: nginx:latest
    state: started
    ports:
      - "80:80"
-----------------------------------------------------------------------------------------------------------------------------------------

9. How do you use Handlers in Ansible? How do you implement when conditions in a playbook?

EXPLAIN IN THIS ANSWER:-
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘‰ In Ansible, (handlers) are special tasks that run only when notified by another task. 
ğŸ‘‰ They are used for actions like restarting services only if a change occurred,which improves performance and avoids unnecessary restarts.
ğŸ“¦ Use Case Example: handlers/main.yml
- name: Restart Apache
  service:
    name: httpd
    state: restarted

ğŸ‘‰ The (when) clause in Ansible allows you to run tasks conditionally based on variables, facts, or any logic.
ğŸ“¦ Use Case Example: Install Apache only on Ubuntu:
- name: Install Apache on Ubuntu
  apt:
    name: apache2
    state: present
  when: ansible_os_family == "Debian"
-----------------------------------------------------------------------------------------------------------------------------------------

10. How do you manage sensitive data securely in Ansible using Vault?

EXPLAIN IN THIS ANSWER:-
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘‰ In Ansible, Vault is used to encrypt sensitive data like passwords, tokens, API keys, SSH credentials, and private certificates.
ğŸ‘‰ This ensures that confidential information is not exposed in plain text, especially when sharing code through Git.

ğŸ› ï¸ How It Works:
ğŸ‘‰ To create a new Vault file: (ansible-vault create secrets.yml)
ğŸ‘‰ To encrypt an existing file: (ansible-vault encrypt group_vars/prod.yml)
ğŸ‘‰ To edit a vault-encrypted file: (ansible-vault edit secrets.yml)
ğŸ‘‰ To use the Vault in a playbook:
vars_files:
  - secrets.yml
ğŸ‘‰ To run a playbook using Vault: (ansible-playbook site.yml --ask-vault-pass)
ğŸ‘‰ Or using a vault password file: (ansible-playbook site.yml --vault-password-file ~/.vault_pass.txt)

âœ… Answer (with explanation):
ğŸ‘‰ In the Infra Services project, we stored AWS keys, DB passwords, 
    and other secrets in Vault-encrypted files inside group_vars and host_vars.
    This allowed us to safely version-control our playbooks in Git without exposing credentials.
ğŸ‘‰ We used a vault password file secured in Jenkins to run playbooks automatically without human intervention.



